<?php
//If an object is selected


$selected_db = new Entity($object_name,"electronics");
$selected = $selected_db->getById(1);

if($selected){
	$form_name = "Wiring";
}
else
{
	$selected = false;
	$form_name = "Wiring";
}


$form = new Form($form_name);

//Custom Fields
$inputs_file = Functions::getdir(USER_OBJECTS.$object_name."/"."electronics/");
foreach($inputs_file as $input_file){
	$file = USER_OBJECTS.$object_name."/"."electronics/".$input_file;
	$input = Variable::md2var($file);
	
	$input["selected"] = $selected[$input["id"]];
	if(isset($input["options"])){
		$data_file = Variable::data_dir($input["options"]);
		include($data_file);
		if(isset($data)){
		$input["options"] = $data;
		}
		if(isset($datas)){
		$input["options"] = $datas;	
		}
		unset($data);
	}

	$form->input($input);
	$table_headers[] = $input["name"];
	$table_datas[] = $input["id"];
}
$form->display($tpl);

$tpl->draw(CORE_VIEWS."grids/container/open");
include(CORE_VIEWS."gpio/pins.view");
$tpl->draw(CORE_VIEWS."grids/container/close");

?>