<?php
if(isset($_["name"])){
	$object_name = $_["name"];
	$tab = isset($_["tab"]) ? $_["tab"] : false;

//Header
	$object_dir = USER_OBJECTS.$object_name;
	$object_icon = USER_OBJECTS.$object_name."/icon.png";
	$object_longname = Variable::ObjectName($object_dir);
	$tpl->assign("text",$object_longname);
	$tpl->assign("image",$object_icon);
	$tpl->draw(CORE_VIEWS."text/h1_image");

//Navbar generation
	include(CORE_VIEWS."menu/objects.view");

	if($tab){
		switch ($tab) {
		//Help Tabs
			case "help":
			Draw::md2help($object_name);
			break;

		//Actions Tabs
			case "actions":
		//@todo If only one action redirect
		if(!isset($_["action"])){ //Available actions
			include(CORE_VIEWS."/menu/available_actions.view");	
		}
		else{ //Selected Action
			include(CORE_FORMS."/settings/objects/actions.form");
		}
		break;

		//Add/Remove Tabs
		case "gpios":
		include(CORE_FORMS."/settings/objects/gpio.form");
		break;
	}
}

}



?>