<?php
//Group Management Form

$object_name = $menu_selected;
$object_nameicon = Variable::object_nameicon($menu_selected);
$objects_db = new Entity("config",$menu_selected);
$objects = $objects_db->populate();

//If an object is selected
if(isset($_["id"])){
	$selected_db = new Entity("config",$menu_selected);
	$selected = $selected_db->getById($_["id"]);
	$form_name = "ID:".$_["id"];
	$hidden_input = [
	"type" => "hidden",
	"value" => $_["id"]
	];
}
else{
	$selected = false;
	$form_name = "New";
}

$tpl->assign("text",$object_nameicon);
$tpl->draw(CORE_VIEWS."text/h1");

$form = new Form($form_name);
include(CORE_VIEWS."forms/form_default.view");
include(CORE_VIEWS."forms/form_sensors.view");
include(CORE_VIEWS."forms/form_group.view");

$form->display($tpl);
if($objects){
	include(CORE_VIEWS."datatable/dbtable_sensors.view");
}

?>